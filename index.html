<!DOCTYPE html>
<html>
    <head>
        <title>Covid Search</title>
        <link rel = "icon" href="assets/favicon.ico">
        <link rel = "stylesheet" href = "styles/styles.css">
        <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300&display=swap" rel="stylesheet">
        <meta charset = "utf-8">
        <meta name = "viewport" content = "width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.4/font/bootstrap-icons.css">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    </head>
    
    <body class = "center font">
        <nav class = "navbar fixed-top navbar-expand-md navbar-dark bg-dark container-fluid">
            <a class = "navbar-brand" href = "#index">&emsp;<i class = "bi bi-house"></i>&ensp;home</a>

            <button class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-options">
                <i class="navbar-toggler-icon"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbar-options">

                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="#statistics">state statistics&ensp;</a></li>
                    <li class="nav-item"><a class="nav-link" href="#pictures">gallery&ensp;</a></li>
                    <li class="nav-item"><a class="nav-link" href="#health_department">find a health department&ensp;</a></li>
                </ul>     
            </div>       
        </nav>

        <br><br><br><br>
        <section id = "index">
        <img class = "zoom" src = "assets/covid_5.jpg" width ="600" height="300">
        <p class = "w-100"></p>
        </section>
        <br><br>

<section id = "statistics">
    <br><br><br><br>
    <h2>Latest Covid Statistics</h2>
        <div class = "search">
            <input type = "text" placeholder = "enter state name" spellcheck = "true">
            <button><i class="bi bi-search"></i></button>
        </div>

<br><br>
        <div>
            <h3 class = "state"></h3>
                <div>
                    <div class = "state_and_population">
                        <div class = "col">
                            <p class = "active_cases"></p>
                        </div>

                        <div class = "col">
                            <p class = "population"></p>
                        </div>
                    </div>

                    <br><br>
                <div class = "details">
                    <div class = "col">
                        <p class = "today_cases"></p>
                    </div>
                    <div class = "col">
                        <p class = "today_deaths"></p>
                    </div>
                    <div class = "col">
                        <p class = "total_cases"></p>
                    </div>
    
                    <div class = "col">   
                       <p class = "total_deaths"></p>           
                    </div>
            </div>
</div>
</section>

    <section id = "pictures"> 
        <br><br><br><br>
    <h2>Gallery</h2>
        <div id = "blog-carousel" class = "carousel slide" data-bs-ride = "carousel" data-bs-interval = "3000">
            <ol class = "carousel-indicators">
                <button data-bs-target="#blog-carousel" data-bs-slide-to="0" class = "active"></button>
                <button data-bs-target = "#blog-carousel" data-bs-slide-to="1"></button>
                <button data-bs-target = "#blog-carousel" data-bs-slide-to="2"></button>
            </ol>
        <!--carousel body-->
            <div class = "carousel-inner text-center">
            <!--active slide-->
            <div id = "slide-1" class = "carousel-item active">
                <img class = "zoom" width="450" height="430"  src = "assets/covid_1.jpg">
            </div>

            <div id = "slide-2" class = "carousel-item">
                <img class = "zoom" width="450" height="430" src = "assets/covid_2.jpg">
            </div>

                <div id = "slide-3" class = "carousel-item">
                    <img class = "zoom" width="450" height="430" src = "assets/covid_3.jpg">
                </div>
        </div>     <br><br><br>
<!--controls-->
            <a class = "carousel-control-prev" href = "#blog-carousel" role = "button" data-bs-slide = "prev"> 
                <i class = "carousel-control-prev-icon"></i></a>
            <a class = "carousel-control-next" href = "#blog-carousel" role = "button" data-bs-slide = "next"> 
                <i class = "carousel-control-next-icon"></i></a><br>
</div>
    </section>

    <section id = "health_department">
        <br><br><br><br>
        <h2>Find a Health Department</h2>

        <div class = "search_department">
            <input type = "text" placeholder = "enter state name" spellcheck = "true">
            <button><i class="bi bi-search"></i></button>
        </div>

    </section>


    <script>
        const apiUrlState = "https://disease.sh/v3/covid-19/states/"
        const searchBox = document.querySelector(".search input");
        const searchBtn = document.querySelector(".search button");

        const apiUrlDepartment = "";
        const searchDepartmentBox = document.querySelector(".search_department input");
        const searchDepartmentBtn = document.querySelector(".search_department button");
        
        async function checkState(state){
            const response = await fetch(apiUrlState + state);

            var data = await response.json();
            console.log(data);

            document.querySelector(".state").innerHTML = data.state;
            document.querySelector(".active_cases").innerHTML = "active cases: " + data.active;
            document.querySelector(".today_cases").innerHTML = "today's cases: " + data.todayCases;
            document.querySelector(".today_deaths").innerHTML = "today's deaths: " + data.todayDeaths;
            document.querySelector(".total_cases").innerHTML = "total cases: " + data.cases;
            document.querySelector(".total_deaths").innerHTML = "total deaths: " + data.deaths;
            document.querySelector(".population").innerHTML = "population: " + data.population;

        }

        searchBtn.addEventListener("click", () => {
            checkState(searchBox.value);
        })

    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
    </body>
</html>